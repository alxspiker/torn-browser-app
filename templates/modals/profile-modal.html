<!-- User Profile Modal -->
<div id="profile-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">Torn Profile</div>
      <button class="modal-close">&times;</button>
    </div>
    <div class="modal-body">
      <form id="profile-form">
        <div class="form-group">
          <img id="profile-modal-avatar" style="width:48px;height:48px;border-radius:50%;display:none;margin-bottom:10px;">
          <label class="form-label" for="profile-edit-name">Character Name</label>
          <input type="text" class="form-input" id="profile-edit-name" required>
        </div>
        <div class="form-group">
          <label class="form-label" for="profile-api-key">Torn API Key</label>
          <input type="text" class="form-input" id="profile-api-key" placeholder="Enter your Torn API key">
          <small>Your API key is stored locally and only used to fetch data from Torn.</small>
          <div style="margin-top: 10px;">
            <label class="form-label" for="api-key-access">API Key Access Level</label>
            <select id="api-key-access" class="form-input" style="width: 220px;">
              <option value="public">Public Only</option>
              <option value="minimal">Minimal Access</option>
              <option value="limited">Limited Access</option>
              <option value="full">Full Access</option>
              <option value="custom">Custom...</option>
            </select>
            <select id="api-key-custom-scopes" class="form-input" style="width: 100%; margin-top: 8px; display: none;" multiple size="6">
              <option value="user:basic">User: Basic</option>
              <option value="user:bars">User: Bars</option>
              <option value="user:cooldowns">User: Cooldowns</option>
              <option value="user:notifications">User: Notifications</option>
              <option value="faction:basic">Faction: Basic</option>
              <option value="faction:contributors">Faction: Contributors</option>
              <option value="torn:bank">Torn: Bank</option>
              <!-- Add more scopes as needed -->
            </select>
            <button id="create-api-key-btn" class="btn btn-secondary" style="margin-top: 10px;">Create API Key</button>
            <button id="view-api-keys-btn" class="btn btn-secondary" style="margin-top: 10px; margin-left: 10px;">View Keys</button>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">Settings</label>
          <div style="margin-top: 10px;">
            <label style="display: flex; align-items: center; margin-bottom: 8px;">
              <input type="checkbox" id="setting-dark-mode">
              <span style="margin-left: 8px;">Dark Mode</span>
            </label>
            <label style="display: flex; align-items: center; margin-bottom: 8px;">
              <input type="checkbox" id="setting-notifications">
              <span style="margin-left: 8px;">Enable Notifications</span>
            </label>
            <label style="display: flex; align-items: center; margin-bottom: 8px;">
              <input type="checkbox" id="setting-auto-refresh">
              <span style="margin-left: 8px;">Auto-refresh Stats</span>
            </label>
          </div>
        </div>
        <div class="form-group" id="refresh-interval-group" style="display: none;">
          <label class="form-label" for="setting-refresh-interval">Refresh Interval (seconds)</label>
          <input type="number" class="form-input" id="setting-refresh-interval" min="30" max="600" value="60">
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary close-modal">Cancel</button>
      <button id="save-profile" class="btn btn-success">Save Profile</button>
    </div>
  </div>
</div>